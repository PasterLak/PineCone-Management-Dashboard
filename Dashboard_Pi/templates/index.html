{% include 'header.html' %}
<body>
  <div class="layout">
    {% include 'sidebar.html' %}

    <!-- Main content -->
    <main class="main-content">
      <div class="page-container">
        <!-- Page: Home (Dashboard) -->
        {% include 'device_table.html' %}

        <!-- Page: PineCone Device Simulator Settings -->
        {% include 'pinecone_simulator.html' %}

        <!-- Page: Settings -->
        {% include 'settings.html' %}
      </div>
    </main>
  </div>
</body>

<script>
  window.initialDevices = {{ devices | tojson }};
</script>

<!-- Utility Scripts -->
<script src="{{ url_for('static', filename='js/utils/input-validation.js') }}"></script>

<!-- Settings Manager -->
<script src="{{ url_for('static', filename='js/core/settings-manager.js') }}"></script>

<!-- Settings UI Components -->
<script src="{{ url_for('static', filename='js/settings/settings-config.js') }}"></script>
<script src="{{ url_for('static', filename='js/settings/settings-dom.js') }}"></script>
<script src="{{ url_for('static', filename='js/settings/settings-validator.js') }}"></script>
<script src="{{ url_for('static', filename='js/settings/settings-feedback.js') }}"></script>
<script src="{{ url_for('static', filename='js/settings/settings-form.js') }}"></script>
<script src="{{ url_for('static', filename='js/settings/settings-actions.js') }}"></script>
<script src="{{ url_for('static', filename='js/settings/settings-ui-manager.js') }}"></script>

<!-- Sidebar & Page Managers -->
<script src="{{ url_for('static', filename='js/sidebar/sidebar-manager.js') }}"></script>
<script src="{{ url_for('static', filename='js/sidebar/page-manager.js') }}"></script>

<!-- Device (Table) Manager -->
<script src="{{ url_for('static', filename='js/table/device-config.js') }}"></script>
<script src="{{ url_for('static', filename='js/table/device-dom.js') }}"></script>
<script src="{{ url_for('static', filename='js/table/device-data-service.js') }}"></script>
<script src="{{ url_for('static', filename='js/table/device-api-service.js') }}"></script>
<script src="{{ url_for('static', filename='js/table/device-row-renderer.js') }}"></script>
<script src="{{ url_for('static', filename='js/table/pin-details-renderer.js') }}"></script>
<script src="{{ url_for('static', filename='js/table/device-edit-handler.js') }}"></script>
<script src="{{ url_for('static', filename='js/table/device-pin-manager.js') }}"></script>
<script src="{{ url_for('static', filename='js/table/device-renderer.js') }}"></script>
<script src="{{ url_for('static', filename='js/table/device-actions.js') }}"></script>
<script src="{{ url_for('static', filename='js/table/device-polling-service.js') }}"></script>
<script src="{{ url_for('static', filename='js/table/device-event-handler.js') }}"></script>
<script src="{{ url_for('static', filename='js/table/device-manager.js') }}"></script>

<!-- PineCone Simulator Manager -->
<script src="{{ url_for('static', filename='js/simulator/simulator-manager.js') }}"></script>

<!-- Initialize Dashboard -->
{% include 'initiate_dashboard.html' %}
