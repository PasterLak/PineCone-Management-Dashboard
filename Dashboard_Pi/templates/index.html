{% include 'header.html' %}

<h1>PineCone BL602 Dashboard</h1>

<table>
  <thead>
    <tr>
      <th class="col-id">ID</th>
      <th class="col-ip">IP</th>
      <th class="col-desc">Description</th>
      <th class="col-seen">Last Seen</th>
    </tr>
  </thead>
  <tbody id="tbody">
    {% for id, d in devices.items() %}
    <tr data-id="{{ id }}">
      <td>{{ id }}</td>
      <td>{{ d.ip }}</td>
      <td class="desc-cell" data-id="{{ id }}">
        <span class="desc-text">{{ d.description }}</span>
        <button class="edit-btn" type="button">✏️</button>
      </td>
      <td>{{ d.last_seen }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<script>
  window.initialDevices = {{ devices | tojson }};
</script>

{% include 'scripts.html' %}
{% include 'footer.html' %}
